{% extends "base.html" %}

{% block content %}

<div id="message-card" class="message-card hidden">
  <div id="message-content">
    {% if error %}
    <p style="color: red;">{{ error }}</p> <!-- Exibe mensagem de erro se houver -->
    {% endif %} 
    {% if success %}
    <p style="color: green;">{{ success }}</p> <!-- Exibe mensagem de sucesso se houver -->
    {% endif %}
  </div>
</div>

<div id="modal" class="modal">
  <center><p id="modalh1">Digite o codigo de segurança! <button id="x">x</button></p></center>
  <form class="formmodal" action = '/add-data' method="post">
    <input type="text" name='senha' value="" placeholder="senha" aria-label="Enviar">
    <button  type="submit">OK</button>
  </form>
</div>
<div id="modal2" class="modal">
  <center><p id="modalh1">Digite o codigo de segurança! <button id="x">x</button></p></center>
  <form class="formmodal" action = '/delete-data' method="post">
    <input type="text" name='senha' value="" placeholder="senha" aria-label="Enviar">
    <button  type="submit">OK</button>
  </form>
</div>
<div id="modal1" class="modal">
  <center><p id="modalh1">Mudar Código <button id="x2">x</button></p></center>
  <form class="formmodal" id="formmodal1" action="/trocar" method="POST">
    <label for="senha">Código Anterior</label><br>
    <input type="text" name='senha' value="" placeholder=""><br>
    <label for="senhanv">Novo Código</label><br>
    <input type="text" name='senhanv' value="" placeholder=""><br>
    <button id="btnmodal"  type="submit">OK</button>
</form>

</div>




  

<section id="sec1">
  
        <!-- Searchbar -->
        <div class="searchBar">
          <form action="">
            <label for="birthday" font-family: "Poppins", sans-serif>Data:</label>
            <input type="date" id="birthday" name="birthday">
            <input type="submit" value="Pesquisar">
          </form> 
        </div>
       
        <!-- Timelapse -->
        <p id="mes-timelapse">
            {{mes}}
        </p>
        <div class="swiper">
            <div class="swiper-wrapper">
            {% for i in range(21, 32) %}
              <div class="swiper-slide">
                <div class="day-shape">
                  <a class="slide-link">
                      <p>{{ i }}</p>
                    </a>
                </div>
              </div>
            {% endfor %}
            </div>
          </div>
          <p id="ano-timelapse">
            2024
          </p>

          <h2 id="overview-title">Média diária</h2>
          <div class="overview">
            {% for svg, desc in overview_list %}
            <div class="icon-overview">
                <p class="overview-desc">{{ desc }}</p>
                {{ svg | safe }}
                <p class="overview-text"></p>
              </div>
            {% endfor %}
          </div>
          
          <div class="btn-container">
            <a id="add-btn" href="#">
              <svg id="add-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
                <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
                <g id="SVGRepo_iconCarrier">
                   <path fill-rule="evenodd" clip-rule="evenodd" d="M11.25 12.75V18H12.75V12.75H18V11.25H12.75V6H11.25V11.25H6V12.75H11.25Z" fill="#EFEFEF"></path> 
                </g>
              </svg>          
            </a> 
           

            <a id="remove-btn" href="#">
              <svg id="remove-icon" viewBox="-3 0 32 32" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns" fill="#000000"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier">
                 <title>trash</title> <desc>Created with Sketch Beta.</desc> <defs> </defs> <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage"> <g id="Icon-Set-Filled" sketch:type="MSLayerGroup" transform="translate(-261.000000, -205.000000)" fill="#EFEFEF"> <path d="M268,220 C268,219.448 268.448,219 269,219 C269.552,219 270,219.448 270,220 L270,232 C270,232.553 269.552,233 269,233 C268.448,233 268,232.553 268,232 L268,220 L268,220 Z M273,220 C273,219.448 273.448,219 274,219 C274.552,219 275,219.448 275,220 L275,232 C275,232.553 274.552,233 274,233 C273.448,233 273,232.553 273,232 L273,220 L273,220 Z M278,220 C278,219.448 278.448,219 279,219 C279.552,219 280,219.448 280,220 L280,232 C280,232.553 279.552,233 279,233 C278.448,233 278,232.553 278,232 L278,220 L278,220 Z M263,233 C263,235.209 264.791,237 267,237 L281,237 C283.209,237 285,235.209 285,233 L285,217 L263,217 L263,233 L263,233 Z M277,209 L271,209 L271,208 C271,207.447 271.448,207 272,207 L276,207 C276.552,207 277,207.447 277,208 L277,209 L277,209 Z M285,209 L279,209 L279,207 C279,205.896 278.104,205 277,205 L271,205 C269.896,205 269,205.896 269,207 L269,209 L263,209 C261.896,209 261,209.896 261,211 L261,213 C261,214.104 261.895,214.999 262.999,215 L285.002,215 C286.105,214.999 287,214.104 287,213 L287,211 C287,209.896 286.104,209 285,209 L285,209 Z" id="trash" sketch:type="MSShapeGroup">
                 </path> 
                </g> </g> 
              </g></svg>            
            </a> 

            <a href="#" id="chart-btn" style="background-color: orange;">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" fill="white" width="24" height="24">
                <path d="M160 80c0-26.5 21.5-48 48-48h32c26.5 0 48 21.5 48 48V432c0 26.5-21.5 48-48 48H208c-26.5 0-48-21.5-48-48V80zM0 272c0-26.5 21.5-48 48-48H80c26.5 0 48 21.5 48 48V432c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V272zM368 96h32c26.5 0 48 21.5 48 48V432c0 26.5-21.5 48-48 48H368c-26.5 0-48-21.5-48-48V144c0-26.5 21.5-48 48-48z"/>
              </svg>
            </a>
          </div>
          
</div>


          </div>
    </section>
  </div>
  <button role="link"  id="mudcod"><a id="mudcoda" href="#">Mudar Codigo</a></button>


  <script>
    // Function to show message in the card
    function showMessage(message, type) {
        var messageCard = document.getElementById('message-card');
        var messageText = document.getElementById('message-text');

        // Set the message and style based on type
        messageText.innerText = message;
        if (type === 'success') {
            messageCard.classList.remove('error');
            messageCard.classList.add('success');
        } else {
            messageCard.classList.remove('success');
            messageCard.classList.add('error');
        }

        // Show the message card
        messageCard.classList.remove('hidden');

        // Hide the message card after 5 seconds
        setTimeout(function() {
            messageCard.classList.add('hidden');
        }, 5000);
    }
</script>
{% endblock %}
